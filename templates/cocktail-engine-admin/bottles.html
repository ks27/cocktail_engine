{% extends 'base.html' %}
{% load static %}
{% block content %}
    <nav class="navbar navbar-light navbar-expand-md navigation-clean-search">
        <div class="container"><a class="navbar-brand" href="/">Cocktails Engine&nbsp;</a>
            <button class="navbar-toggler" data-toggle="collapse" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse"
                 id="navcol-1">
                <ul class="nav navbar-nav">
                    <li class="nav-item" role="presentation"><a class="nav-link" href="../index.html">Page principal</a>
                    </li>
                </ul>
                <ul class="nav navbar-nav">
                    <li class="dropdown"><a class="dropdown-toggle nav-link dropdown-toggle" data-toggle="dropdown"
                                            aria-expanded="false" href="#">Administration&nbsp;</a>
                        <div class="dropdown-menu" role="menu"><a class="dropdown-item" role="presentation"
                                                                  href="bottles.html">Bouteilles</a><a
                                class="dropdown-item" role="presentation" href="cocktails.html">Cocktails</a></div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div style="margin-top: 10rem;">
    <div class="container">
    <div class="row">
        {% for bottle_number,bottle in bottles.items %}
            {% if bottle != None %}
                <div class="col-md-4">
                    <div class="jumbotron">
                        <h1>Bouteille N°{{ bottle_number }}</h1>
                        <img src="{% if bottle.image|length > 0 %}{{ bottle.image.url }}
                                {% else %}{{ MEDIA_URL }}{{ '/bottle_picture/default.jpg' }} {% endif %}"
                             width="150rem" height="150rem">
                        <p>Nom: {{ bottle.name }}</p>
                        <label for="step_{{ bottle_number }}">Positionnement: </label>
                        <input type="number" id="step_{{ bottle_number }}" name="1" min="1" max="400"
                               value="{{ bottle.step }}"><br>
                        <label for="empty_{{ bottle_number }}">Vide: </label>
                        <input type="checkbox" id="empty_{{ bottle_number }}" name="1" class="empty"
                                {% if bottle.empty %}
                               checked {% endif %}> <br>
                        <form action="{% url 'engine:cocktailEngineAdmin' %}" method="get">
                            <button class="btn btn-danger">Supprimer</button>
                            <input type="hidden" name="deleteBottle" value="{{ bottle.id }}">
                        </form>
                    </div>
                </div>
            {% else %}
                <div class="col-md-4">
                    <div class="jumbotron">
                        <h1>Bouteille N°{{ bottle_number }}</h1>
                        <form action="{% url 'engine:cocktailEngineAdmin' %}" method="post">
                            <div class="form-group">
                                {{ bottle_create_form.as_p }}
                                <input type="hidden" id="create_solenoidValve_{{ bottle_number }}" name="solenoidValve"
                                       value="1">
                                <input type="hidden" id="create_step_{{ bottle_number }}" name="step" value="30">
                                <input class="btn btn-primary" type="submit" value="Ajouter">
                            </div>
                        </form>
                    </div>
                </div>
            {% endif %}

            {% if bottle_number == 3 %}
                </div>
                <div class="row" style="margin-top: 5rem;">

            {% endif %}

        {% endfor %}
        </div>

{% endblock %}
{% block javascript %}
    <script src="{% static 'assets/js/bottleAdmin.js' %}"></script>
    <script>
        $(function () {
            $(document).on('input', '#step_6', function () {
                console.log($(this).val());
            });
        })
    </script>
    <script>

    </script>
{% endblock %}